<div class="container__manager-cv">
    <div class="main__manager-cv">
        <header>
            <h1>Manage CV of {{job.jobname}} job</h1>
            <p>This job has a total of <b>{{count}}</b> CVs applying</p>
        </header>
        <section>
            <div class="header-section">
                <span class="cv-passed">Passed CVs</span>
                <span class="cv-failed">Failed CVs</span>
            </div>
            <div class="loading-manager">
                <div class="custom-loader"></div>
            </div>
                <div class="box__passed-cv">
                    <h2>In total, this job has {{countPassed}} CVs that have passed your company's requirements</h2>
                {{#each cvPassed}}
                    <a href="/applyCV/{{job.companyname}}/{{job.jobname}}/qualified/{{this.nameCV}}" class="card__passed-cv" download>
                        <span class="name-file"><b>Name CV:</b> <span>{{this.nameCV}}</span></span>
                        <span class="person-applied"><b>Applicant's Name:</b> {{this.name}}</span>
                        {{#if this.professional}}
                        <span class="headline"><b>Applicant's Professional Headline:</b> {{this.professional}}</span>
                        {{else}}
                        {{/if}}
                        <span class="email-applied"><b>Applicant's Email:</b> {{this.email}}</span>
                        <span class="phone-applied"><b>Applicant's Phone:</b> {{this.phone}}</span>
                    </a>
                {{/each}}
                </div>
                <div class="box__failed-cv">
                    <h2>In total, this job has {{countFailed}} CVs that have failed your company's requirements</h2>
                {{#each cvFailed}}
                    <a href="/applyCV/{{job.companyname}}/{{job.jobname}}/unsatisfactory/{{this.nameCV}}" class="card__failed-cv" download>
                       <span class="name-file"><b>Name CV:</b> <span>{{this.nameCV}}</span></span>
                        <span class="person-applied"><b>Applicant's Name:</b> {{this.name}}</span>
                        {{#if this.professional}}
                        <span class="headline"><b>Applicant's Professional Headline:</b> {{this.professional}}</span>
                        {{else}}
                        {{/if}}
                        <span class="email-applied"><b>Applicant's Email:</b> {{this.email}}</span>
                        <span class="phone-applied"><b>Applicant's Phone:</b> {{this.phone}}</span>
                    </a>
                {{/each}}
                </div>
        </section>
    </div>
</div>
<script>
    var clickPassed = document.querySelector('.cv-passed');
    var clickFailed = document.querySelector('.cv-failed');
    var containerPassed = document.querySelector('.box__passed-cv');
    var containerFailed = document.querySelector('.box__failed-cv');
    var loadingManagerCV = document.querySelector('.loading-manager');
    var passedClicked = false;
    var failedClicked = false;
    document.addEventListener("DOMContentLoaded", function() {
    passedClicked = false;
    failedClicked = true;
    var showPassCV = localStorage.getItem('boxPassCV');
    var showFailCV = localStorage.getItem('boxFailCV');
    if(showPassCV === "show"){
        containerPassed.style.display = 'flex';
        containerFailed.style.display = 'none';
        passedClicked = false;
        failedClicked = true;
        clickPassed.style.cssText = 'border-bottom: 3px solid #0072bc; color: #0072bc; cursor: default;';
        clickFailed.style.cssText = 'border-bottom: unset; color: black; cursor: pointer;';
    } else if(showFailCV === "show"){
        containerFailed.style.display = 'flex';
        containerPassed.style.display = 'none';
        failedClicked = false;
        passedClicked = true;
        clickFailed.style.cssText = 'border-bottom: 3px solid #0072bc; color: #0072bc; cursor: default';
            clickPassed.style.cssText = 'border-bottom: unset; color: black; cursor: pointer;';
    }
    });
    clickPassed.addEventListener('click',()=>{
        if(passedClicked){
            passedClicked = false;
            localStorage.setItem('boxPassCV', 'show')
            localStorage.setItem('boxFailCV', 'hide')
            clickPassed.style.cssText = 'border-bottom: 3px solid #0072bc; color: #0072bc; cursor: default;';
            clickFailed.style.cssText = 'border-bottom: unset; color: black; cursor: pointer;';
            containerFailed.style.display = 'none';
            loadingManagerCV.style.display = 'flex';
            setTimeout(function(){
            loadingManagerCV.style.display = 'none';
            },1750);
            setTimeout(function(){
            containerPassed.style.display = 'flex';
            failedClicked = true;
            },1780)
        }
    });
    clickFailed.addEventListener('click',()=>{
        if(failedClicked){
            failedClicked = false;
            localStorage.setItem('boxFailCV', 'show')
            localStorage.setItem('boxPassCV', 'hide')
            clickFailed.style.cssText = 'border-bottom: 3px solid #0072bc; color: #0072bc; cursor: default';
            clickPassed.style.cssText = 'border-bottom: unset; color: black; cursor: pointer;';
            containerPassed.style.display = 'none';
            loadingManagerCV.style.display = 'flex';
            setTimeout(function(){
            loadingManagerCV.style.display = 'none';
            },1750);
            setTimeout(function(){
            containerFailed.style.display = 'flex';
            passedClicked = true;
            },1780)
        }
    });
</script>