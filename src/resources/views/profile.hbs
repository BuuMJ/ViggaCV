<div class="main-profile">
   {{#ifeq user 'user'}}
    <div class="header-profile">
        <span class="header-profile-primary">Hello {{getFullname user}}</span>
        <span class="header-profile-secondary">This page is your profile. Clicking the settings button allows you to edit the information</span>
        <button class="btn-setting">Setting <i class="bi bi-gear"></i></button>
    </div>
    <form class="content-profile" method="POST" action="/profile/edit?_method=PUT" enctype="multipart/form-data">
        <div class="profile-img">
            <label for="file-user"><img class="user-avatar" src="{{getAvatar user}}" alt=""></label>
            <input id="file-user" name="avatar" type="file" accept="image/*">
            <label for="file-user" class="edit-img"><span>Change Avatar</span></label>
            <label class="camera-edit" for="file-user"><i class="bi bi-camera"></i></label>
        </div>
        <div class="content-profile-header">
            <span>Your Account</span>
        </div>
        <div class="content-profile-main" >
            <span>USER INFORMATION</span>
            <div class="profile-info-user">
                <div class="profile-user">
                    <label for="username-profile">User Name</label>
                    <input id="username-profile" type="text" value="{{getName user}}" readonly>
                </div>
                 <div class="profile-user email-profile">
                    <label for="email-profile">Email Address</label>
                    <input id="email-profile" type="email" value="{{getEmail user}}" readonly>
                </div>
                <div class="profile-user">
                    <label for="fullname">Full Name</label>
                    <input id="fullname" name="fullname" type="text" value="{{getFullname user}}">
                </div>
                <div class="profile-user password-profile">
                    <label for="password">Password</label>
                    <input id="password" name="password" type="password">
                </div>
            </div>
            <div class="underline-profile">
                <div class="underline"></div>
            </div>
            <span>CONTACT INFORMATION</span>
            <div class="contact-profile">
                <div class="contact-user-address">
                    <label for="address">Address</label>
                    <input id="address" type="text" name="address" placeholder="Bld Mihail Kogalniceanu, nr. 8 Bl 1, Sc 1, Ap 09" value="{{getAddress user}}">
                </div>
                <div class="contact-user">
                    <label for="city">City</label>
                    <input id="city" type="text" name="city" placeholder="New York" value="{{getCity user}}">
                </div>
                <div class="contact-user">
                    <label for="country">Country</label>
                    <input id="country" type="text" name="country" placeholder="United States" value="{{getCountry user}}">
                </div>
                <div class="contact-user">
                    <label for="postal">Postal</label>
                    <input id="postal" type="number" name="postal" placeholder="10001" value="{{getPostal user}}">
                </div>
            </div>
            <div class="underline-profile">
                <div class="underline"></div>
            </div>
                <span>ABOUT YOU</span>
            <div class="about-me-profile">
                <div class="about-user experience">
                    <label for="experience">Experience</label>
                    <input id="experience" type="text" name="experience" placeholder="4 years working at company A" value="{{getExperience user}}">
                </div>
                <div class="about-user">
                    <label for="education">Education</label>
                    <input id="education" type="text" name="education" placeholder="Greenwich University" value="{{getEducation user}}">
                </div>
                <div class="about-user skills-profile">
                    <label for="skills">Skills</label>
                    <input id="skills" type="text" name="skills" placeholder="HTML,CSS,JS,NodeJS,ReactJS" value="{{getSkills user}}">
                </div>
                <div class="about-user">
                    <label for="certifications">Certifications</label>
                    <input id="certifications" type="text" name="certifications" placeholder="Master's degree" value="{{getCertifications user}}">
                </div>
                <div class="about-user languages-profile">
                    <label for="languages">Languages</label>
                    <input id="languages" type="text" name="languages" placeholder="English, France, Japanese" value="{{getLanguages user}}">
                </div>
            </div>
            <div class="profile-action">
                <button class="btn-save" type="submit">Save Profile</button>
            </div>
        </div>
    </form>
    {{else ifeq user 'company'}}
    <div class="header-profile header-profile-company">
        <span class="header-profile-primary">Hello {{getFullname user}}</span>
        <span class="header-profile-secondary">This page is your profile. Clicking on the settings button allows you to edit your personal information and also your company information</span>
        <button class="btn-setting">Setting <i class="bi bi-gear"></i></button>
    </div>
    <form class="content-profile company-profile" method="POST" action="/profile/edit?_method=PUT" enctype="multipart/form-data">
        <div class="profile-img">
            <label for="file-user"><img class="user-avatar" src="{{getAvatar user}}" alt=""></label>
            <input id="file-user" name="avatar" type="file" accept="image/*">
            <label for="file-user" class="edit-img"><span>Change Avatar</span></label>
            <label class="camera-edit" for="file-user"><i class="bi bi-camera"></i></label>
        </div>
        <div class="content-profile-header">
            <span>Your Account</span>
        </div>
        <div class="content-profile-main" >
            <span>USER INFORMATION</span>
            <div class="profile-info-user">
                <div class="profile-user">
                    <label for="username-profile">User Name</label>
                    <input id="username-profile" type="text" value="{{getName user}}" readonly>
                </div>
                 <div class="profile-user">
                    <label for="email-profile">Email Address</label>
                    <input id="email-profile" type="email" value="{{getEmail user}}" readonly>
                </div>
                <div class="profile-user">
                    <label for="fullname">Full Name</label>
                    <input id="fullname" name="fullname" type="text" value="{{getFullname user}}">
                </div>
                <div class="profile-user">
                    <label for="password">Password</label>
                    <input id="password" name="password" type="password">
                </div>
            </div>
            <div class="underline-profile">
                <div class="underline"></div>
            </div>
            <span>CONTACT INFORMATION</span>
            <div class="contact-profile">
                <div class="contact-user-address">
                    <label for="address">Address</label>
                    <input id="address" type="text" name="address" placeholder="Bld Mihail Kogalniceanu, nr. 8 Bl 1, Sc 1, Ap 09" value="{{getAddress user}}">
                </div>
                <div class="contact-user">
                    <label for="city">City</label>
                    <input id="city" type="text" name="city" placeholder="New York" value="{{getCity user}}">
                </div>
                <div class="contact-user">
                    <label for="country">Country</label>
                    <input id="country" type="text" name="country" placeholder="United States" value="{{getCountry user}}">
                </div>
                <div class="contact-user">
                    <label for="postal">Postal</label>
                    <input id="postal" type="number" name="postal" placeholder="10001" value="{{getPostal user}}">
                </div>
            </div>
            <div class="underline-profile">
                <div class="underline"></div>
            </div>
                <span>COMPANY INFORMATION</span>
            <div class="about-company-profile">
                <div class="about-user">
                    <label for="education">Company Name</label>
                    <input id="education" type="text" name="companyName" placeholder="Greenwich University" value="{{getCompanyname user}}">
                </div>
                <div class="about-user ">
                    <label for="skills">Compnany Address</label>
                    <input id="skills" type="text" name="companyAddress" placeholder="HTML,CSS,JS,NodeJS,ReactJS" value="{{getCompanyaddress user}}">
                </div>
                <div class="about-user">
                    <label for="certifications">Fax Code</label>
                    <input id="certifications" type="text" name="faxCode" placeholder="Master's degree" value="{{getFaxcode user}}">
                </div>
                <div class="about-user">
                    <label for="certifications">Tax Code</label>
                    <input id="certifications" type="text" name="taxCode" placeholder="Master's degree" value="{{getTaxcode user}}">
                </div>
                <div class="about-user ">
                    <label for="languages">Company Email</label>
                    <input id="languages" type="text" name="companyEmail" placeholder="English, France, Japanese" value="{{getCompanyemail user}}">
                </div>
                <div class="about-user ">
                    <label for="languages">Company Phone</label>
                    <input id="languages" type="text" name="companyPhone" placeholder="English, France, Japanese" value="{{getCompanyphone user}}">
                </div>
                <div class="about-user ">
                    <label for="languages">No. OfYears In Business</label>
                    <input id="languages" type="text" name="companyYears" placeholder="English, France, Japanese" value="{{getCompanyyears user}}">
                </div>
                <div class="about-user ">
                    <label for="languages">Type of business</label>
                    <select id="languages" name="typeOfBusiness" >
                        <option value="" selected>{{getTOB user}}</option>
                        <option value="Sole Proprietorships">Sole Proprietorships.</option>
                        <option value="Partnerships">Partnerships.</option>
                        <option value="Corporations">Corporations.</option>
                        <option value="S Corporations">S Corporations.</option>
                        <option value="Limited Liability Company">Limited Liability Company.</option>
                    </select>
                </div>
                <div class="about-user about-user-desc-company">
                    <label for="experience">Company Description</label>
                    <input id="experience" type="text" name="companyDesc" placeholder="4 years working at company A" value="{{getCompanydesc user}}">
                </div>
            </div>
            <div class="profile-action">
                <button class="btn-save" type="submit">Save Profile</button>
            </div>
        </div>
    </form>
    {{/ifeq}}
</div>
<script>
var btnSetting = document.querySelector('.btn-setting');
var settingProfile = document.querySelector('.content-profile');
btnSetting.addEventListener('click',()=>{
    var computedStyle = getComputedStyle(settingProfile);
    if(computedStyle.display === "none"){
        settingProfile.style.display = "block";
        settingProfile.style.opacity = "0";
        setTimeout(() => {
            settingProfile.style.opacity = "1";
        }, 50);
    }
    else{
        settingProfile.style.opacity = "0";
        setTimeout(() => {
            settingProfile.style.display = "none";
        }, 300);
    }
})
    var hover = document.querySelector('.user-avatar')
    var edit = document.querySelector('.edit-img')
    hover.addEventListener('mouseover',()=>{
        edit.style.cssText = "display: flex; transform: translateY(-28%);"
        hover.style.cssText = "transform: translatey(-28%);"
    })
    edit.addEventListener('mouseout',()=>{
        edit.style.cssText = "display: none; transform: translateY(-24%);"
        hover.style.cssText = "transform: translatey(-24%);"
    })
     hover.addEventListener('mouseout',()=>{
        edit.style.cssText = "display: none; transform: translateY(-24%);"
        hover.style.cssText = "transform: translatey(-24%);"
    })
    var file = document.querySelector('#file-user');
    var img = document.querySelector('.user-avatar');
    file.addEventListener('change', () => {
        const chooseFile = file.files[0];
        if (chooseFile) {
            const reader = new FileReader();
            reader.addEventListener('load', () => {
                img.setAttribute('src', reader.result);
            });
            reader.readAsDataURL(chooseFile);
        }
    });
</script>

